(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{368:function(t,e,o){var content=o(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(58).default)("4f104f10",content,!0,{sourceMap:!1})},390:function(t,e,o){"use strict";o(368)},391:function(t,e,o){var r=o(57)(!1);r.push([t.i,".controls-bar[data-v-00b71ddf]{padding:1rem 2rem 0;display:flex}.control-button[data-v-00b71ddf]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:42px;padding:0 1.25rem;margin-right:.75rem;font-size:1rem;background:hsla(0,0%,100%,.1);border:1px solid hsla(0,0%,100%,.5)}.control-button span[data-v-00b71ddf]{font-size:1.5rem}.control-button[data-v-00b71ddf]:hover{box-shadow:none;background-color:hsla(0,0%,100%,.2)}.control-button[data-v-00b71ddf]:active{box-shadow:none;background-color:hsla(0,0%,100%,.1)}.red-button[data-v-00b71ddf]{background:rgba(255,0,0,.5);border:1px solid rgba(255,0,0,.7)}.red-button[data-v-00b71ddf]:hover{background:rgba(255,0,0,.6)}.red-button[data-v-00b71ddf]:active{background:rgba(255,0,0,.5)}.file[data-v-00b71ddf]{opacity:0;width:.1px;height:.1px;position:absolute}.container[data-v-00b71ddf]{display:flex;flex-flow:column;height:100%;width:100%}.player-bg[data-v-00b71ddf]{width:100%;max-width:100%;flex:1;margin:0 auto;border-radius:1.5rem;background-color:rgba(2,1,5,.2);border:2px solid hsla(0,0%,100%,.1);-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);box-shadow:0 3rem 4rem rgba(0,0,0,.4);overflow:hidden}.player-wrapper[data-v-00b71ddf]{height:100%;width:100%;overflow:hidden}",""]),t.exports=r},399:function(t,e,o){"use strict";o.r(e);o(47),o(36),o(46),o(59),o(29),o(60);var r=o(20),n=(o(223),o(13),o(38),o(48),o(224),o(128),o(61),o(37));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{playerOptions:{invertTime:!1},temp:null}},computed:c(c({},Object(n.c)(["room","isHost"])),{},{showChangeFile:function(){return"file"==this.room.video.type},roomString:function(){return JSON.stringify(this.room)}}),watch:{room:function(){this.setPlayer()}},methods:c(c({},Object(n.b)(["sync","addVideo"])),{},{addSource:function(t){var e=this.$refs.player.player,source={type:"video",sources:[{src:this.room.video.link}]};t&&(source.tracks=[{kind:"captions",label:"Subtitles",srclang:"SUB",src:t,default:!0}]),"youtube"==this.room.video.type&&(source.sources[0].provider="youtube"),e.source=source},syncLocal:function(t){var p=this.$refs.player.player,e={loaded:!0,playing:p.playing,time:p.currentTime,speed:p.speed,volume:p.volume,captions:null};this.sync(e)},setPlayer:function(){if(!this.isHost){console.log(this.room.player.playing);var p=this.$refs.player.player;p.currentTime=this.room.player.time,this.room.player.playing?(console.log("called play()"),p.play()):(console.log("called pause()"),p.pause()),p.speed=this.room.player.speed}},addVideoFile:function(t){var e=this,o=t.target.files[0],r=URL.createObjectURL(o);this.videoType="file",this.addVideo({type:"file",fileURL:r,fileName:o.name}).then((function(){return e.addSource()}))},addSubtitle:function(t){var e=t.target.files[0],o=new this.$VTTConverter(e),r=this;o.getURL().then((function(t){console.log("here"),r.addSource(t)}))}}),mounted:function(){var t=this;if(this.addSource(),this.isHost){var p=this.$refs.player.player;p.on("play",(function(){return t.syncLocal("play")})),p.on("pause",(function(){return t.syncLocal("pause")})),p.on("seeked",(function(){return t.syncLocal("seeked")})),p.on("ratechange",(function(){return t.syncLocal("ratechange")})),p.on("ended",(function(){return t.syncLocal("ended")}))}this.$socket.on("room:syncrequest",(function(){t.syncLocal("syncrequest")}))}},f=(o(390),o(35)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"player-bg"},[o("div",{ref:"playerWrapper",staticClass:"player-wrapper"},[o("vue-plyr",{ref:"player",attrs:{options:t.playerOptions}},[o("video",{attrs:{controls:"",crossorigin:"",playsinline:""}})])],1)]),t._v(" "),o("div",{staticClass:"controls-bar"},[t.isHost?o("button",{staticClass:"control-button red-button",on:{click:function(e){return t.$emit("stop")}}},[o("span",{staticClass:"mdi mdi-stop-circle-outline"}),t._v("Stop\n    ")]):t._e(),t._v(" "),o("button",{staticClass:"control-button",on:{click:function(e){return t.syncLocal("manual")}}},[o("span",{staticClass:"mdi mdi-sync"}),t._v("Sync\n    ")]),t._v(" "),t.showChangeFile?o("div",{staticClass:"file-input"},[o("input",{ref:"fileInput",staticClass:"file",attrs:{type:"file",id:"file",accept:"video/*"},on:{change:t.addVideoFile}}),t._v(" "),t._m(0)]):t._e(),t._v(" "),t.showChangeFile?o("div",{staticClass:"file-input"},[o("input",{ref:"subtitleInput",staticClass:"file",attrs:{type:"file",id:"subtitle",accept:".vtt, .srt"},on:{change:t.addSubtitle}}),t._v(" "),t._m(1)]):t._e()])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"button control-button",attrs:{for:"file"}},[o("span",{staticClass:"mdi mdi-file-edit-outline"}),t._v("Change File")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"button control-button",attrs:{for:"subtitle"}},[o("span",{staticClass:"mdi mdi-subtitles-outline"}),t._v("Add Subtitle")])}],!1,null,"00b71ddf",null);e.default=component.exports}}]);